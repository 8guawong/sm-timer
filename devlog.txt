DEV

COMPATIBILITY:
- Delete cfg/influx/prespeed.cfg to generate new ones with latest cvars.

ADDED:
- Modes/styles can be disallowed using flags.
- New style: Prespeed (go supa fast)
- New influx_prespeed_noclip-cvar

CHANGES:
- You can use negative numbers for beam offsets (inset). See influxtimer.com/download#faq for reason.
- Moved noclip prespeed check to influx_prespeed from influx_noclip.

FIXES:
- Setting spectator target. (sm_replay, sm_spec)
- Setting player's targetname and classname in TAS when rewinding/fast forwarding.
- Native binding GetNextMenuTime/SetNextMenuTime (sm_credits)

CODE:
- Added forward Influx_OnLimitClientPrespeed



1.0.7

COMPATIBILITY:
- Delete cfg/influx/core.cfg, cfg/influx/hud.cfg, cfg/influx/recording.cfg and cfg/influx/zones.cfg to generate new ones with latest cvars.
- Changed forwards: Influx_OnClientModeChangePost, Influx_OnClientStyleChangePost & Influx_RequestHelpCmds
- Changed natives: Influx_AddMode & Influx_AddStyle
- Split drawing part of influx_hud to influx_hud_draw.

ADDED:
- New style: TAS (Tool Assisted). Rewind, change timescale, use auto-strafer, load/save runs that are in progress, etc.
- Ability to delete recordings through a menu.
- influx_config-plugin that simply executes influx.cfg (better control over commands.)
- influx_fixtimelimit-plugin that fixes map not changing according to mp_timelimit.
- influx_specalltalk_css-plugin to allow spectators to talk with living players.
- Ability to override mode/style settings through influx_mode_overrides.cfg & influx_style_overrides.cfg

CHANGES:
- admin_overrides.cfg is now used instead of cvars like influx_core_removeflags to modify command access. See admin_overrides_influx_example.cfg for more info.
- Admins can now restart a replay.
- Moved the ability to teleport to the end to a separate plugin influx_teletoend.
- Log an error if client has no mode/style when finishing a run.
- Renamed hud drawing convars. (see cfg/influx/hud_draw.cfg) (added influx_hud_draw_menuinterval)

FIXES:
- Changing between replays too fast will no longer "double reset" the playback.
- Blacklisted ALL styles and modes from Standup.
- Accidentally hooking think multiple times in styles/modes.
- Fixed zone names with forward slashes not saving properly.
- Fixed sm_wrcp queries not working (subquery returning multiple results)
- Fixed sm_deletecptimes
- Fixed being able to prespeed with noclip.
- Fixed practise mode menu message. (tier4fusion)
- Not being able to draw hud faster than every ~0.1 seconds.
- Changed most queries with low priority to normal which could cause delays in results.

CODE:
- Added forwards: Influx_OnClientPause, Influx_OnClientPracticeStart, Influx_OnRecordingStart & Influx_OnRecordingFinish to let other plugins control more.
- Forwards Influx_OnClientModeChangePost & Influx_OnClientStyleChangePost now also have the last mode/style argument.
- Renamed Influx_RequestHelpCmds to Influx_OnRequestHelpCmds
- Natives Influx_PauseClientRun, Influx_ContinueClientRun & Influx_StartPractising now return a value whether it was successful.
- Separating hud drawing from influx_hud. See hud.inc & hud_draw.inc for differences. (See HudType_t changes.)
- Added GetMode/StyleSafeName



1.0.6

ADDED:
- New styles low gravity, parkour and backwards.
- influx_dropknife_css-plugin to allow CSS players to drop their knife. (CS:GO use mp_drop_knife_enable 1)

CHANGES:
- You can now create stages and checkpoints before having a run. Zones without run id will now be updated after the run has been created.

FIXES:
- MySQL 5.7.5 and above throwing an error. (when ONLY_FULL_GROUP_BY is set which is enabled by default.)
- Increased db error buffer size to display full error message.

CODE:
- Better support for custom zone types. Added natives Influx_RegZoneType, Influx_RemoveZoneType, Influx_IsValidZoneType, Influx_GetZoneTypeName, Influx_GetZoneTypeShortName, Influx_GetZoneTypeByShortName



1.0.5

COMPATIBILITY:
- Delete cfg/influx/core.cfg, cfg/influx/recording.cfg, cfg/influx/prespeed.cfg and cfg/influx/zones.cfg to generate new ones with latest cvars.
- You need to run sm_updateinfluxdb command through server console.

ADDED:
- influx_recrank-plugin to display record's rank in chat (after finishing a run).
- influx_maprankings-plugin to display player's map ranking on HUD.
- influx_zones_checkpoint-plugin for checkpoint times.
- influx_zones_stage-plugin for stage displaying.
- influx_ac_leftright-plugin to block malicious +left/+right usage. Recommended to be disabled for surf servers.
- influx_speclist-plugin to display spectator list.
- Cvars: influx_teletostartonspawn, influx_recording_botname, influx_recording_autoplayback, influx_recording_repeatplayback
- Ability to teleport to run end. (sm_gotoend/sm_end)
- Lag-compensated CS:GO autobhop.
- Max jumps for prespeeding (influx_prespeed_maxjumps)
- "Crosshair" zone building with a bunch of new cvars.

CHANGES:
- Player's join date is now recorded in database. If pre-existing records have none, furthest date from times is used (recdate).
- Crosshair building is now the default building method. Use influx_zones_crosshairbuild-cvar to toggle.
- Autobhop mode no longer removes player's weapons. Use sm_drop instead.

FIXES:
- MySQL not displaying best times correctly.
- Changing prespeed cvars not registering properly.
- Teleporting to a cp no longer change player's roll.
- Unpausing will now also reset player's targetname. (tier4fusion)
- Fps_max 0 not being a valid value (if more than server's tickrate).

CODE:
- Fixed Influx_GetRunBestTime-native
- Added native Influx_FormatChatColors
- Added forwards Influx_OnMapIdRetrieved, Influx_OnClientIdRetrieved, Influx_OnRecordRemoved, Influx_OnPrintRecordInfo, Influx_OnRecordInfoButtonPressed



1.0.4 Hotfix


CHANGES:
- Commands kill and sm_spec will now attempt to pause client's run.

FIXES:
- Multiple fixes to pausing.



1.0.4


COMPATIBILITY:
- Delete cfg/influx/core.cfg and cfg/influx/zones.cfg to generate new ones with latest cvars.

ADDED:
- influx_disablesuicide-plugin
- influx_zones_beams_custom-plugin which allows for custom beam settings
- Added influx_chatprefix-cvar to change chat prefix.
- Added influx_chatcolor-cvar to change default chat color.
- Added influx_chatmainclr1-cvar to change highlighting chat color.
- Ability to navigate through more records (added last/next page buttons to records menu)
- Added influx_core_suppressmaxwepspdmsg-cvar
- Added influx_core_suppressmaxwepspdwarning-cvar
- Added influx_zones_minzonesize-cvar
- Replicate commands sm_nc (sm_noclip), sm_rs (sm_restart)
- Ability to reload style and mode plugins safely.

CHANGES:
- Sidebar player name is now truncated. (low res CS:GO users won't have half of their screen covered with the name)
- Influx will throw an error if run's teleport destination is invalid.
- If no runs exist, restart commands (eg. sm_restart) will teleport player to spawn.
- Continuing a paused run if dead will respawn the player.

FIXES:
- You can no longer create flat zones.
- influx_hud compiles (oops)
- Noclip messages are no longer spammed in the chat/console.
- 'Noclip: ON' msg is no longer displayed when in practise mode.
- You should now be able to give yourself an hkp2000
- Setting run teleport destination and yaw through run menu should work correctly.
- You can no longer set run teleport destination in solid.
- Run records deletion now also updates the cached times. (no longer have to restart the map to take effect)
- You can no longer use modes or styles that are unloaded.

CODE:
- Added Inf_Warning stock to warn those silly people who can't get stuff to work.
- Made code a bit neater.
- Removed useless Influx_SetNextMenuTime calls.
- Fixed Influx_GetStyleShortName-native
- We now track the database version in case we ever want to update it.
- Added Influx_RemoveChatColors-native (use instead of Inf_RemoveColors)
- Added Influx_RemoveMode/Style/FpsCheck natives for proper unloading and late-loading
